<!DOCTYPE html>
<html lang="en">
<head>
	<title>Weather API</title>
    <meta charset="utf-8">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>

    <script>
    $.document.ready(function() {
    	var city = "";
			$("button").click(function() {

				city = $(this).parent().children()[0].value;
				var currentBtn = $(this);
				// console.log(city);
				$.ajax("http://api.openweathermap.org/data/2.5/weather?q=" + city)

				.done(function(response) {
					// console.log(response.main.temp);
					$(currentBtn).next().text("temp: " + response.main.temp);
				})
		})
    });

    </script>
</head>
<body>
	<div class="container">
		<h1>The Codingdojo weather report!</h1>
		<form action="http://api.openweathermap.org/data/2.5/weather" method="get">
			<select name="q">
				<option value="San Francisco">San Francisco</option>
				<option value="San Jose">San Jose</option>
				<option value="Sydney">Sydney</option>
				<option value="New York">New York</option>
				<option value="Boston">Boston</option>
				<option value="Houston">Houston</option>
			</select>
			<button class="btn btn-success" type="submit">Get Weather</button>
		</form>
		<div id="result"></div>
	</div>
</body>
</html>